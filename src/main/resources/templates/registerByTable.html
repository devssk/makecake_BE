<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--    <meta property="og:image" content="images/og_selectshop.png">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="basic.js"></script>
    <!--BootStrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css" />
    <!--    폰트-->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">

    <title>MakeCake BackOffice</title>
</head>
<style>
    .top{
        height: 230px;
        background-color: rgba(31, 35, 41, 40%);
        margin-bottom: 20px;
        text-align: center;
        vertical-align: middle;
        padding: 70px;
        font-size: 60px;
        color: whitesmoke;
    }
    .body{
        width: 80%;
        margin: 60px auto 150px auto;
        padding-bottom:20px
    }
    #search-result{
        background-color: rgba(245, 235, 243, 80%);
        padding : 10px;
        border-radius: 4px;

        margin-bottom: 40px;
    }
    tbody>tr {
        counter-increment: aaa;
    }
    tbody>tr>th:first-child:before {
        content: counter(aaa) " ";
    }


</style>
<script>
    function addSearchResult(storeName, storeId){
        let tempHtml = `검색 결과<br><br>
                매장명 : ${storeName} <br>
                매장ID : ${storeId}`
        $('#search-result').append(tempHtml);
    }
    function searchStoreId() {
        let searchText = $('#search-text').val();
        let data = {'searchText': searchText};

        $.ajax({
            type: "POST",
            url: "/api/backOffice/store/searchId",
            contentType: "application/json",
            data: JSON.stringify(data),
            success: function (response) {
                let storeId = response['storeId'];
                let storeName = response['storeName'];

                addSearchResult(storeName,storeId);
            }
        })
    }
    function addRow() {
        const table = document.getElementById('cake_info_table');
        let tempHtml = `<tr>
                            <th> </th>
                            <td> <input type="text" id="cake_type" placeholder="String" name="cake_type"> </td>
                            <td> <input type="text" id="cake_size" placeholder="String" name="cake_size"> </td>
                            <td> <input type="text" id="cake_price" placeholder="String" name="cake_price"></td>
                            <td> <input type="text" id="cake_more_info" placeholder="String" name="cake_more_info"></td>
                        </tr>`
        $('#table-rows').append(tempHtml);
    }
    function deleteRow(rownum) {
        // table element 찾기
        const table = document.getElementById('cake_info_table');
        // 행(Row) 삭제
        const newRow = table.deleteRow(rownum);
    }
</script>
<body>
<div class="jumbotron jumbotron-fluid top">
    <div class="container">
        <h1 class="display-4">메이크 케이크 Back Office</h1>
        <p class="lead">일단 만든 백오피스</p>
    </div>
</div>
<div class="body">
    <div class="search_storeId">
        매장 id 검색
        <br>
        <br>
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="매장 이름 검색" id="search-text" aria-describedby="basic-addon2">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="button" onclick="searchStoreId()">검색</button>
            </div>
        </div>
        <br>
    </div>


    <!--            매장 검색 결과 : id-->
    <div id="search-result"></div>

    <!--            매장 id 입력-->
    <div>
        <label for="store-id">매장 id :</label>
        <input type="text" id="store-id" name="store-id">
        <br>
        <br>
    </div>

    <!--            케이크 정보 입력 표-->
    <!--            <table class="table table-sm" id="cake_info_table">-->
    <!--                <thead>-->
    <!--                <tr>-->
    <!--                    <th scope="col">케이크</th>-->
    <!--                    <th scope="col">종류</th>-->
    <!--                    <th scope="col">사이즈</th>-->
    <!--                    <th scope="col">가격</th>-->
    <!--                    <th scope="col">제약사항</th>-->
    <!--                </tr>-->
    <!--                </thead>-->


    <div>
        <div id="show_peek_store_id">
        </div>
        <div id="show_peek_form">
            <table class="table table-sm" id="cake_info_table">
                <thead>
                <tr>
                    <th scope="col">CakeMenu</th>
                    <th scope="col">type (ex. 원형)</th>
                    <th scope="col">size (ex. 1호)</th>
                    <th scope="col">price (ex. 2000원~4000원)</th>
                    <th scope="col">moreInfo (ex. 당일 주문만 가능)</th>
                </tr>
                </thead>
                <tbody id="table-rows">
                <tr>
                    <th> </th>
                    <td> <input type="text" id="cake_type" placeholder="String" name="cake_type"> </td>
                    <td> <input type="text" id="cake_size" placeholder="String" name="cake_size"> </td>
                    <td> <input type="text" id="cake_price" placeholder="String" name="cake_price"></td>
                    <td> <input type="text" id="cake_more_info" placeholder="String" name="cake_more_info"></td>
                </tr>
                </tbody>
            </table>
            <button onclick="addRow()"> 행 추가 </button>
            <button onclick="deleteRow(-1)">행삭제(끝에서)</button>
            </table>
        </div>
    </div>


</div>

</body>
</html>